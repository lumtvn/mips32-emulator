<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>MIPS32-Emulator: /home/lucho/lucho/emuladormips/mips32-emulator/src/memorymanagement.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="1034528.da0ea8f9eea6d079b1ba3cf58cb0cd3b.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MIPS32-Emulator
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">a small IDE for a Mips32 microprocessor emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">memorymanagement.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>file containing functions to write bytes, halfwords and words to a simulated memory  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="headers_8h_source.html">headers.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="memorymanagement_8h_source.html">memorymanagement.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1bdaf0c9eed8224d77514dcff797a284"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a1bdaf0c9eed8224d77514dcff797a284">createblock</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, int size)</td></tr>
<tr class="memdesc:a1bdaf0c9eed8224d77514dcff797a284"><td class="mdescLeft">&#160;</td><td class="mdescRight">creates a block of memory  <a href="#a1bdaf0c9eed8224d77514dcff797a284">More...</a><br/></td></tr>
<tr class="separator:a1bdaf0c9eed8224d77514dcff797a284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f492c5ea309f9aef8d8f0d04b4a55c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a68f492c5ea309f9aef8d8f0d04b4a55c">writebyte</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, <a class="el" href="headers_8h.html#a94d5ba6264392dd18e5b557d88c7807d">mbyte</a> bdata, int simpoint)</td></tr>
<tr class="memdesc:a68f492c5ea309f9aef8d8f0d04b4a55c"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes the byte stored in mem-&gt;bdata to the position inside the block given by simpoint  <a href="#a68f492c5ea309f9aef8d8f0d04b4a55c">More...</a><br/></td></tr>
<tr class="separator:a68f492c5ea309f9aef8d8f0d04b4a55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023bf1fde93969aa804ae8a44b57fdcd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a023bf1fde93969aa804ae8a44b57fdcd">writehalfword</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, <a class="el" href="headers_8h.html#a7ad0a1895ae4d065394e08555be78273">mhalfword</a> hwdata, int simpoint)</td></tr>
<tr class="memdesc:a023bf1fde93969aa804ae8a44b57fdcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes the halfword stored in mem-&gt;hwdata to the position inside the block given by simpoint  <a href="#a023bf1fde93969aa804ae8a44b57fdcd">More...</a><br/></td></tr>
<tr class="separator:a023bf1fde93969aa804ae8a44b57fdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108add57be3da31c9784ee66a48ddf76"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a108add57be3da31c9784ee66a48ddf76">writeword</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, <a class="el" href="headers_8h.html#a1ef678860994dda67d11967343d827bf">mword</a> wdata, int simpoint)</td></tr>
<tr class="memdesc:a108add57be3da31c9784ee66a48ddf76"><td class="mdescLeft">&#160;</td><td class="mdescRight">writes the word stored in wdata to the position inside the block given by simpoint  <a href="#a108add57be3da31c9784ee66a48ddf76">More...</a><br/></td></tr>
<tr class="separator:a108add57be3da31c9784ee66a48ddf76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b78240e6715543f38c2a80a9badff2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="headers_8h.html#a94d5ba6264392dd18e5b557d88c7807d">mbyte</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a14b78240e6715543f38c2a80a9badff2">readbyte</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, int simpoint)</td></tr>
<tr class="memdesc:a14b78240e6715543f38c2a80a9badff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the byte stored in simulated address simpoint and stores it in mem-&gt;bdata  <a href="#a14b78240e6715543f38c2a80a9badff2">More...</a><br/></td></tr>
<tr class="separator:a14b78240e6715543f38c2a80a9badff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb9d891ad68a04e01985203eb047df4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="headers_8h.html#a7ad0a1895ae4d065394e08555be78273">mhalfword</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a0bb9d891ad68a04e01985203eb047df4">readhalfword</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, int simpoint)</td></tr>
<tr class="memdesc:a0bb9d891ad68a04e01985203eb047df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the halfword stored in simulated address simpoint and stores it in mem-&gt;hwdata  <a href="#a0bb9d891ad68a04e01985203eb047df4">More...</a><br/></td></tr>
<tr class="separator:a0bb9d891ad68a04e01985203eb047df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f719968ee135dba6d01195f93de231"><td class="memItemLeft" align="right" valign="top"><a class="el" href="headers_8h.html#a1ef678860994dda67d11967343d827bf">mword</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#a43f719968ee135dba6d01195f93de231">readword</a> (struct <a class="el" href="structptype.html">ptype</a> *mem, int simpoint)</td></tr>
<tr class="memdesc:a43f719968ee135dba6d01195f93de231"><td class="mdescLeft">&#160;</td><td class="mdescRight">reads the word stored in simulated address simpoint and stores it in mem-&gt;wdata  <a href="#a43f719968ee135dba6d01195f93de231">More...</a><br/></td></tr>
<tr class="separator:a43f719968ee135dba6d01195f93de231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99d5a529c7bcbdbe6f5432bfa4ec957"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memorymanagement_8c.html#ae99d5a529c7bcbdbe6f5432bfa4ec957">displaymemory</a> (struct <a class="el" href="structptype.html">ptype</a> *mem)</td></tr>
<tr class="memdesc:ae99d5a529c7bcbdbe6f5432bfa4ec957"><td class="mdescLeft">&#160;</td><td class="mdescRight">displays a whole block of memory of size mem-&gt;blocksize, starting at address mem-&gt;realpointbase  <a href="#ae99d5a529c7bcbdbe6f5432bfa4ec957">More...</a><br/></td></tr>
<tr class="separator:ae99d5a529c7bcbdbe6f5432bfa4ec957"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>file containing functions to write bytes, halfwords and words to a simulated memory </p>
<dl class="section author"><dt>Author</dt><dd>Luciano Mantovani </dd></dl>
<dl class="section date"><dt>Date</dt><dd>October 2014 this file is used by the environment and the code assembler to read from and write to a simulated memory in the MIPS32 processor. The simulated memory comes from a real portion of RAM memory of the HOST PC.</dd></dl>
<p>the set of write and read functions are thougt for a sistem that will store the bytes in memory using "big endian". Naturally, this emulator should run in big endian and little endian processors. That is why each each write and read function has a few code lines that convert the incoming data in to big endian, no matter the format of the incoming data (big or little endian).</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>the block of memory should be created with a tag that identifies it, this is yet to be implemented </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1bdaf0c9eed8224d77514dcff797a284"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* createblock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>creates a block of memory </p>
<p>uses a structure ptype and an integer size to create a new block. this block will have a size mem-&gt;size and will start from memory position mem-&gt;realpointbase. </p>

</div>
</div>
<a class="anchor" id="ae99d5a529c7bcbdbe6f5432bfa4ec957"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* displaymemory </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>displays a whole block of memory of size mem-&gt;blocksize, starting at address mem-&gt;realpointbase </p>

</div>
</div>
<a class="anchor" id="a14b78240e6715543f38c2a80a9badff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="headers_8h.html#a94d5ba6264392dd18e5b557d88c7807d">mbyte</a> readbyte </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>simpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the byte stored in simulated address simpoint and stores it in mem-&gt;bdata </p>

</div>
</div>
<a class="anchor" id="a0bb9d891ad68a04e01985203eb047df4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="headers_8h.html#a7ad0a1895ae4d065394e08555be78273">mhalfword</a> readhalfword </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>simpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the halfword stored in simulated address simpoint and stores it in mem-&gt;hwdata </p>

</div>
</div>
<a class="anchor" id="a43f719968ee135dba6d01195f93de231"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="headers_8h.html#a1ef678860994dda67d11967343d827bf">mword</a> readword </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>simpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reads the word stored in simulated address simpoint and stores it in mem-&gt;wdata </p>

</div>
</div>
<a class="anchor" id="a68f492c5ea309f9aef8d8f0d04b4a55c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* writebyte </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="headers_8h.html#a94d5ba6264392dd18e5b557d88c7807d">mbyte</a>&#160;</td>
          <td class="paramname"><em>bdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>simpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes the byte stored in mem-&gt;bdata to the position inside the block given by simpoint </p>

</div>
</div>
<a class="anchor" id="a023bf1fde93969aa804ae8a44b57fdcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* writehalfword </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="headers_8h.html#a7ad0a1895ae4d065394e08555be78273">mhalfword</a>&#160;</td>
          <td class="paramname"><em>hwdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>simpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes the halfword stored in mem-&gt;hwdata to the position inside the block given by simpoint </p>

</div>
</div>
<a class="anchor" id="a108add57be3da31c9784ee66a48ddf76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structptype.html">ptype</a>* writeword </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structptype.html">ptype</a> *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="headers_8h.html#a1ef678860994dda67d11967343d827bf">mword</a>&#160;</td>
          <td class="paramname"><em>wdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>simpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>writes the word stored in wdata to the position inside the block given by simpoint </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 20 2014 11:45:56 for MIPS32-Emulator by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
